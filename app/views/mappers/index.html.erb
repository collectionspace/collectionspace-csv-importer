<h1 class="title has-text-centered"><%= t('mapper.title.index') %></h1>

<%= content_tag :div, class: 'control has-icons-left' do %>
  <%= content_tag :div, class: 'select is-small mb-4' do %>
    <%= select_tag :manifest,
        options_from_collection_for_select(Manifest.all, :id, :name, @manifest.id),
        data: { 'reflex': 'change->Manifest#selected' } %>
  <% end %>
  <%= content_tag :div, class: 'icon is-small is-left' do %>
    <%= fa_icon 'book' %>
  <% end %>
<% end %>

<table class="table is-fullwidth is-hoverable">
  <caption class="mb-2 py-2 has-background-light">
    <span class="has-text-weight-bold"><%= t('mapper.url_link_prefix') %></span>
    <%= link_to @manifest.url, @manifest.url %>
  </caption>
  <thead>
    <tr>
      <th><%= t 'mapper.profile' %></th>
      <th><%= t 'mapper.version' %></th>
      <th><%= t 'mapper.type' %></th>
      <th><%= t 'mapper.digest' %></th>
      <th><%= t 'mapper.status' %></th>
      <th><%= t 'mapper.enabled' %></th>
      <th><%= t 'mapper.batches' %></th>
      <th colspan="1"></th>
    </tr>
  </thead>

  <tbody>
    <%= render partial: 'row', collection: @mappers, as: :mapper %>
  </tbody>
</table>

<hr/>
<%== pagy_bulma_nav(@pagy) %>
